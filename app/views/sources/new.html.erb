<h1>New source</h1>

<% form_for(@source) do |f| %>
  <%= f.error_messages %>

  <p>
    <%= f.label :name %><br />
    <%= f.text_field :name %>
  </p>

  <p>
    <%= f.label "Application" %> 
    <select id="source_app_id" name="source[app_id]">
      <%@apps.each do |a| %>
        <option value="<%=a.id%>"
<%if @source.app.id==a.id%>
 selected
<%end%>
><%=a.name%></option>
      <%end%>
    </select>
  </p>
    <p>
    <%= f.label :url %><br />
    <%= f.text_field :url %>
  </p>

  <p>
    <%= f.label :login %><br />
    <%= f.text_field :login %>
  </p>
  <p>
    <%= f.label :password %><br />
    <%= f.text_field :password %>
  </p>

Provide the name of the source adapter class located in your lib directory which has
login, query, sync, create, update, delete, and logoff methods.
<p>
<%= f.label "Source adapter class" %><br/>
<%= f.text_field :adapter, :size=>50 %>
</p>

OR enter source code for login, query, create, update, delete, logoff and sync in boxes below.
Be careful to only use apostrophes (single quotes) for strings versus double quotes.
  <p>
    <%= f.label "Login" %><br />
    <%= f.text_area :prolog, :rows=>10,:cols=>60 %>
  </p>

  <p>
    <%= f.label "Query Call" %><br />
    <%= f.text_area :call, :rows=>10, :cols=>60%>
  </p>
      <p>
    <%= f.label "Sync query to object values" %><br />
    <%= f.text_area :sync ,:rows=>10,:cols=>60%>
  </p>
    <p>
    <%= f.label "Create Call" %><br />
    <%= f.text_area :createcall, :rows=>3, :cols=>60%>
  </p>
  <p>
    <%= f.label "Update Call" %><br />
    <%= f.text_area :updatecall, :rows=>3, :cols=>60%>
  </p>
  <p>
    <%= f.label "Delete Call" %><br />
    <%= f.text_area :deletecall, :rows=>3, :cols=>60%>
  </p>

    <p>
    <%= f.label "Logoff" %><br />
    <%= f.text_area :epilog ,:rows=>3,:cols=>60%>
  </p>

  <p>
    <%= f.submit "Create" %>
  </p>
<% end %>

<%= link_to 'Back', sources_path %>
