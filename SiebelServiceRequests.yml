--- &id001 !ruby/object:Source 
attributes: 
  name: SiebelServiceRequests
  refreshtime: 2008-11-30 17:57:42
  prolog: |-
    https = Net::HTTP.new(@source.url,"443")
    https.use_ssl = true
    https.verify_mode = OpenSSL::SSL::VERIFY_NONE
    headers={"UserName"=>@source.login,"Password"=>@source.password}
    session_id=nil   
    https.start do |https| 
      req = Net::HTTP::Get.new("/Services/Integration?command=login", headers)
      response = https.request(req)
      resp = response.body
      p "Response " + resp
      session_id=response['Set-Cookie']
    end
    session=session_id.to_s
    start=session.index('=')
    finish=session.index(';')
    session=session[start+1...finish] if start and finish
    endpoint_url ='https://secure-ausomxbha.crmondemand.com/Services/Integration/ServiceRequest;jsessionid='+session
    obj = Default_Binding_ServiceRequest.new(endpoint_url)
    obj.wiredump_dev = STDERR
    http=nil 
    binding
  updated_at: 2008-11-30 18:02:32
  deletecall: ""
  createcall: |-
    input=ServiceRequestWS_ServiceRequestInsert_Input.new
    s=ServiceRequest.new
    s.serviceRequestId=""
    s.subject=name_value_list[1]["value"] # subject
    s.accountName=name_value_list[0]["value"] # account name
    input.listOfServiceRequest=[s]
    output=obj.serviceRequestInsert(input)
    binding
  type: 
  url: secure-ausomxbha.crmondemand.com
  sync: |
    output.listOfServiceRequest.each do |x|
      o=ObjectValue.new
      o.source_id=@source.id
      o.object=x.serviceRequestId
      o.attrib="subject"
      o.value=x.subject
      o.update_type="query"
      o.save
      #accountName
      o=ObjectValue.new
      o.source_id=@source.id
      o.object=x.serviceRequestId
      o.attrib="accountName"
      o.value=x.accountName
      o.update_type="query"
      o.save
      #createdDate attribute
      o=ObjectValue.new
      o.source_id=@source.id
      o.object=x.serviceRequestId
      o.attrib="createdDate"
      o.value=x.createdDate
      o.update_type="query"
      o.save
    end
    

  method: 
  id: "5"
  updatecall: ""
  call: |-
    input=ServiceRequestWS_ServiceRequestQueryPage_Input.new
    input.startRowNum=0
    s=ServiceRequest.new
    s.serviceRequestId=""
    s.subject=""
    s.createdDate=""
    s.accountName=""
    input.listOfServiceRequest=[s]
    output=obj.serviceRequestQueryPage(input)
    binding
  password: password1
  login: RHOMOBILE/ADAM@RHOMOBILE.COM
  epilog: ""
  created_at: 2008-11-20 23:33:47
attributes_cache: {}

changed_attributes: {}

errors: !ruby/object:ActiveRecord::Errors 
  base: *id001
  errors: {}

new_record_before_save: 
